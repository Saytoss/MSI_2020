(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{GSKZ:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){return'<li class="categories__list-item">\r\n    <a href="" class="categories__name">'+e.escapeExpression(e.lambda(t,t))+"</a>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:5,column:9}}}))?o:""},useData:!0})},L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("IlJM"),n("RtS0"),n("x3Br"),n("3dw1"),n("JBxO"),n("FdtR");var r="https://api.chucknorris.io/jokes",a={query:"",category:"",fetchRandomJoke:function(){return fetch(r+"/random").then((function(e){return e.json()}))},fetchCategories:function(){return fetch(r+"/categories").then((function(e){return e.json()}))},fetchCategoryJoke:function(){var e="/random?category="+this.category;return fetch(r+e).then((function(e){return e.json()}))},fetchSearchJoke:function(){var e="/search?query="+this.query;return fetch(r+e).then((function(e){return e.json()}))},set categoryValue(e){this.category=e},set inputQuery(e){this.query=e}},o=n("GSKZ"),s=n.n(o),i=n("dbCA"),c=n.n(i),u=(n("L1EO"),n("jffb")),l={jokesContainer:document.querySelector("#jokes"),searchBtn:document.querySelector("#search__btn"),jokesList:document.querySelector("#jokes__list"),randomSearch:document.querySelector("#random__search"),categorySearch:document.querySelector("#category__search"),searchByText:document.querySelector("#search_by_text"),categoriesList:document.querySelector("#categories__list"),searchInput:document.querySelector("#search__input"),jokesSection:document.querySelector("#jokes"),favouriteList:document.querySelector("#favourite__list"),openFavouriteButton:document.querySelector("#favourite__open-icon"),favouriteSection:document.querySelector(".favourite__list"),closeFavouriteButton:document.querySelector("#favourite__close-icon"),overlay:document.querySelector(".overlay")};function d(e){e.reduce((function(e,t){var n=e+'<li class="jokes__list-item">\n      <button class="jokes__like jokes__like-empty-heart" id="jokes__like"></button>\n      <div class="jokes__container">\n      <p class="jokes__id">ID:<a href="'+t.url+'" target="_blank">'+t.id+'</a></p>\n      <p class="jokes__value">'+t.value+'</p>\n      <p class="jokes__update">Last update:'+Math.round((new Date-new Date(t.updated_at))/1e3/60/60)+" hours ago</p>\n      </div>\n  </li>";l.jokesList.insertAdjacentHTML("beforeend",n)}),"")}l.searchBtn.addEventListener("click",(function(e){e.preventDefault(),l.randomSearch.checked?a.fetchRandomJoke().then((function(e){d([e])})):l.categorySearch.checked?a.fetchCategoryJoke().then((function(e){return function(e){[e].reduce((function(e,t){var n=e+'<li class="jokes__list-item">\n      <button class="jokes__like jokes__like-empty-heart" id="jokes__like"></button>\n      <div class="jokes__container">\n      <p class="jokes__id">ID:<a href="'+t.url+'" target="_blank">'+t.id+'</a></p>\n      <p class="jokes__value">'+t.value+'</p>\n      <div class="update_and_category">\n      <p class="jokes__update">Last update:'+Math.round((new Date-new Date(t.updated_at))/1e3/60/60)+' hours ago</p>\n      <p class="jokes__category">'+t.categories+"</p>\n      </div>\n      </div>\n  </li>";l.jokesList.insertAdjacentHTML("beforeend",n)}),"")}(e)})):l.searchByText.checked&&a.fetchSearchJoke().then((function(e){var t=Math.floor(Math.random()*e.result.length);d([e.result[t]])}))})),l.categorySearch.addEventListener("change",(function(){l.searchInput.classList.remove("flex"),l.searchInput.classList.add("hide"),l.categoriesList.innerHTML="",l.categoriesList.classList.remove("hide"),l.categoriesList.classList.add("flex"),a.fetchCategories().then((function(e){return l.categoriesList.insertAdjacentHTML("beforeend",s()(e))}))})),l.randomSearch.addEventListener("change",(function(){l.searchInput.classList.remove("flex"),l.categoriesList.classList.remove("flex"),l.searchInput.classList.add("hide"),l.categoriesList.classList.add("hide")})),l.searchByText.addEventListener("change",(function(){l.searchInput.classList.remove("hide"),l.categoriesList.classList.add("hide"),l.categoriesList.classList.remove("flex"),l.searchInput.classList.add("flex")})),l.categoriesList.addEventListener("click",(function(e){e.preventDefault();var t=e.target.textContent;a.categoryValue=t})),l.searchInput.addEventListener("input",u((function(e){e.preventDefault();var t=e.target.value;a.inputQuery=t}),500)),l.jokesContainer.addEventListener("click",(function(e){if(e.target.matches(".jokes__like")){var t=e.target.parentElement.children[1].children[0].innerText,n=e.target.parentElement.children[1].children[1].innerText,r=e.target.parentElement.children[1].children[2].innerText,a={id:t,value:n,updated_at:r};!function(e){e.classList.remove("jokes__like-empty-heart"),e.classList.add("jokes__like-heart")}(e.target),h.push(a),o=_,h.forEach((function(e){o.find((function(t){return t.id===e.id}))||o.push(e)})),f(c()(_)),localStorage.setItem("favouriteJokesArr",JSON.stringify(_))}var o})),l.openFavouriteButton.addEventListener("click",(function(){l.favouriteSection.classList.remove("hide"),l.overlay.classList.remove("hide")})),l.closeFavouriteButton.addEventListener("click",(function(){l.favouriteSection.classList.add("hide"),l.overlay.classList.add("hide")})),window.addEventListener("load",(function(){var e=JSON.parse(localStorage.getItem("favouriteJokesArr"));f(c()(e))}));var h=[],_=[];function f(e){l.favouriteList.innerHTML="",l.favouriteList.insertAdjacentHTML("beforeend",e)}},dbCA:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,n,r,a){var o=e.lambda,s=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="jokes__list-item favourite__jokes-list-item">\r\n    <button class="jokes__like jokes__like-heart jokes__like-tb"></button>\r\n    <div class="jokes__container jokes__container-tb">\r\n    <p class="jokes__id jokes__id-tb">'+s(o(null!=t?i(t,"id"):t,t))+'</p>\r\n    <p class="jokes__value jokes__value-tb">'+s(o(null!=t?i(t,"value"):t,t))+'</p>\r\n    <p class="jokes__update jokes__update-tb">Last update:'+s(o(null!=t?i(t,"updated_at"):t,t))+"</p>\r\n    </div>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:10,column:9}}}))?o:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.5ed4b0b432e7c78ff9e3.js.map